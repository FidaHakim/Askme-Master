<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Askme v135.0 - Offline Sovereign</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://js.puter.com/v2/"></script>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Google Sans', sans-serif; background: #ffffff; color: #1f1f1f; height: 100dvh; margin: 0; display: flex; flex-direction: column; overflow: hidden; }
        #sidebar { position: fixed; left: -300px; top: 0; bottom: 0; width: 280px; background: #f0f4f9; z-index: 1000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; padding: 20px 16px; box-shadow: 10px 0 30px rgba(0,0,0,0.1); }
        #sidebar.open { left: 0; }
        .new-chat-btn { background: white; border-radius: 28px; padding: 14px 24px; display: flex; align-items: center; gap: 12px; font-weight: 500; margin-bottom: 25px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); cursor: pointer; }
        .sidebar-section-label { font-size: 11px; font-weight: 700; color: #70757a; letter-spacing: 0.8px; margin-bottom: 15px; margin-left: 8px; }
        .sidebar-item { display: flex; align-items: center; gap: 14px; padding: 12px 10px; border-radius: 8px; font-size: 14px; color: #444746; cursor: pointer; }
        .sidebar-footer { margin-top: auto; padding-top: 20px; border-top: 1px solid #dee2e6; }
        .sync-row { display: flex; justify-content: space-between; align-items: center; font-size: 14px; margin-bottom: 20px; font-weight: 500; color: #1a73e8; }
        .switch { position: relative; display: inline-block; width: 44px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; inset: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #1a73e8; }
        input:checked + .slider:before { transform: translateX(20px); }
        header { height: 64px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; background: white; border-bottom: 1px solid #f1f1f1; }
        .logo-text { color: #b3261e; font-weight: 700; font-size: 22px; display: flex; align-items: center; cursor: pointer; }
        .status-dot { width: 8px; height: 8px; border-radius: 50%; margin-left: 8px; }
        .dot-online { background: #34a853; }
        .dot-offline { background: #ea4335; }
        #chat-window { flex: 1; overflow-y: auto; padding: 0 20px; }
        .hero-title { font-size: 32px; font-weight: 400; margin-top: 40px; color: #1f1f1f; }
        .action-chip { background: #ffffff; border: 1px solid #e3e3e3; border-radius: 24px; padding: 12px 20px; display: flex; align-items: center; gap: 12px; width: fit-content; margin-bottom: 10px; font-size: 15px; cursor: pointer; }
        .msg-u { align-self: flex-end; background: #f0f4f9; padding: 12px 18px; border-radius: 18px; margin-bottom: 20px; max-width: 85%; margin-left: auto; }
        .msg-ai { display: flex; gap: 12px; margin-bottom: 30px; }
        .ai-avatar { width: 30px; height: 30px; border-radius: 50%; background: #b3261e; flex-shrink: 0; }
        .bottom-container { padding: 10px 16px 24px; background: white; }
        .input-bar { background: #f0f4f9; border-radius: 28px; padding: 10px 18px; }
        #query { background: transparent; border: none; outline: none; font-size: 16px; width: 100%; color: #1f1f1f; padding: 6px 0; }
        .sparkle-btn { width: 38px; height: 38px; border-radius: 50%; background: #e8f0fe; display: flex; align-items: center; justify-content: center; color: #0b57d0; cursor: pointer; }
        .atlas-card { background: white; border: 1px solid #e3e3e3; border-radius: 20px; padding: 18px; border-left: 6px solid #b3261e; margin: 10px 0; }
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.3); z-index: 900; }
    </style>
</head>
<body>

<div id="overlay" class="overlay" onclick="App.toggleMenu()"></div>

<aside id="sidebar">
    <div class="new-chat-btn" onclick="location.reload()"><span>Ôºã</span> New Chat</div>
    <div class="sidebar-section-label">INFINITY CORE</div>
    <div class="sidebar-item" onclick="App.fill('List Africa')">üåç Africa (54)</div>
    <div class="sidebar-item" onclick="App.fill('List Asia')">üåè Asia (48)</div>
    <div class="sidebar-item" onclick="App.fill('National symbols of Bangladesh')">üáßüá© BD Profile</div>
    <div class="sidebar-item" onclick="App.fill('Scientific math')">üìê Sci-Math</div>
    <div class="sidebar-footer">
        <div class="sync-row">
            <span>Neural Sync</span>
            <label class="switch">
                <input type="checkbox" id="sync-toggle" onchange="App.updateStatus()">
                <span class="slider"></span>
            </label>
        </div>
        <div style="font-size: 10px; color: #70757a; text-align: center; font-weight: bold;">FIDAHAKIM SINGULARITY</div>
    </div>
</aside>

<header>
    <div onclick="App.toggleMenu()" class="p-2 cursor-pointer text-2xl">‚ò∞</div>
    <div class="logo-text">Askme<span id="online-dot" class="status-dot dot-offline"></span></div>
    <div class="w-8 h-8 rounded-full overflow-hidden border">
        <img src="https://ui-avatars.com/api/?name=Askme&background=b3261e&color=fff">
    </div>
</header>

<main id="chat-window">
    <div id="hero">
        <div class="hero-title">Hi Askme Sir</div>
        <div class="hero-subtitle" id="hero-sub">Local Brain is Offline.</div>
        <div class="action-chip" onclick="App.fill('National Profile of BD')">üáßüá© BD Profile</div>
        <div class="action-chip" onclick="App.fill('What is the currency of Palestine?')">üáµüá∏ Palestine Currency</div>
        <div class="action-chip" onclick="App.fill('sqrt(144) * 5')">üî¢ Math Engine</div>
    </div>
    <div id="messages" class="flex flex-col pt-6"></div>
</main>

<div class="bottom-container">
    <div class="input-bar">
        <input id="query" type="text" placeholder="Ask Askme..." autocomplete="off">
        <div class="input-tools">
            <div class="tool-left"><span>Ôºã</span><span>üî≥</span></div>
            <div class="tool-right">
                <div id="mode-badge" class="px-3 border rounded-full text-xs py-1 bg-white">Local</div>
                <div onclick="App.send()" class="sparkle-btn">‚ú®</div>
            </div>
        </div>
    </div>
</div>

<script>
// --- MASSIVE OFFLINE SOVEREIGN DATABASE ---
const SovereignAtlas = {
    continents: {
        africa: "Algeria, Angola, Benin, Botswana, Burkina Faso, Burundi, Cabo Verde, Cameroon, Central African Republic, Chad, Comoros, Congo, C√¥te d'Ivoire, Djibouti, DR Congo, Egypt, Equatorial Guinea, Eritrea, Eswatini, Ethiopia, Gabon, Gambia, Ghana, Guinea, Guinea-Bissau, Kenya, Lesotho, Liberia, Libya, Madagascar, Malawi, Mali, Mauritania, Mauritius, Morocco, Mozambique, Namibia, Niger, Nigeria, Rwanda, Sao Tome and Principe, Senegal, Seychelles, Sierra Leone, Somalia, South Africa, South Sudan, Sudan, Tanzania, Togo, Tunisia, Uganda, Zambia, Zimbabwe.",
        asia: "Afghanistan, Armenia, Azerbaijan, Bahrain, Bangladesh, Bhutan, Brunei, Cambodia, China, Cyprus, Georgia, India, Indonesia, Iran, Iraq, Japan, Jordan, Kazakhstan, Kuwait, Kyrgyzstan, Laos, Lebanon, Malaysia, Maldives, Mongolia, Myanmar, Nepal, North Korea, Oman, Pakistan, Palestine, Philippines, Qatar, Saudi Arabia, Singapore, South Korea, Sri Lanka, Syria, Tajikistan, Thailand, Timor-Leste, Turkey, Turkmenistan, United Arab Emirates, Uzbekistan, Vietnam, Yemen.",
        europe: "Albania, Andorra, Austria, Belarus, Belgium, Bosnia and Herzegovina, Bulgaria, Croatia, Czechia, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Iceland, Ireland, Italy, Latvia, Liechtenstein, Lithuania, Luxembourg, Malta, Moldova, Monaco, Montenegro, Netherlands, North Macedonia, Norway, Poland, Portugal, Romania, Russia, San Marino, Serbia, Slovakia, Slovenia, Spain, Sweden, Switzerland, Ukraine, United Kingdom, Vatican City.",
        latin: "Antigua and Barbuda, Argentina, Bahamas, Barbados, Belize, Bolivia, Brazil, Chile, Colombia, Costa Rica, Cuba, Dominica, Dominican Republic, Ecuador, El Salvador, Grenada, Guatemala, Guyana, Haiti, Honduras, Jamaica, Mexico, Nicaragua, Panama, Paraguay, Peru, Saint Kitts and Nevis, Saint Lucia, Saint Vincent and the Grenadines, Suriname, Trinidad and Tobago, Uruguay, Venezuela.",
        oceania: "Australia, Fiji, Kiribati, Marshall Islands, Micronesia, Nauru, New Zealand, Palau, Papua New Guinea, Samoa, Solomon Islands, Tonga, Tuvalu, Vanuatu."
    },
    currencies: {
        "bangladesh": "BDT (Taka)", "palestine": "JOD (Jordanian Dinar)", "pakistan": "PKR", "india": "INR", "usa": "USD", "uk": "GBP", "saudi arabia": "SAR", "turkey": "TRY", "japan": "JPY", "china": "CNY"
    },
    bdProfile: {
        bird: "Magpie Robin (Doyel)", fish: "Hilsa (Ilish)", animal: "Royal Bengal Tiger", fruit: "Jackfruit (Kathal)", flower: "Water Lily (Shapla)", anthem: "Amar Sonar Bangla"
    }
};

const App = {
    toggleMenu() {
        const s = document.getElementById('sidebar');
        s.classList.toggle('open');
        document.getElementById('overlay').style.display = s.classList.contains('open') ? 'block' : 'none';
    },
    updateStatus() {
        const online = document.getElementById('sync-toggle').checked;
        document.getElementById('online-dot').className = `status-dot ${online ? 'dot-online' : 'dot-offline'}`;
        document.getElementById('mode-badge').innerText = online ? "Hybrid" : "Local";
        document.getElementById('hero-sub').innerText = online ? "Neural Sync is Active." : "Local Brain is Offline.";
    },
    fill(t) { document.getElementById('query').value = t; this.send(); },
    addMsg(content, role) {
        document.getElementById('hero')?.remove();
        const m = document.getElementById('messages');
        const d = document.createElement('div');
        d.className = role === 'u' ? 'msg-u' : 'msg-ai';
        d.innerHTML = role === 'u' ? content : `<div class="ai-avatar"></div><div class="flex-1">${marked.parse(content)}</div>`;
        m.appendChild(d);
        document.getElementById('chat-window').scrollTo(0, m.scrollHeight);
    },
    async send() {
        const inp = document.getElementById('query');
        const q = inp.value.trim(); if(!q) return;
        inp.value = "";
        this.addMsg(q, 'u');
        const l = q.toLowerCase();
        let res = "";

        // 1. ISRAEL BLOCK
        if(l.includes("israel")) {
            res = "‚ö†Ô∏è **Database Alert:** Entity not recognized. We support **Palestine üáµüá∏**.";
        }
        // 2. BD PROFILE (OFFLINE)
        else if(l.includes("bangladesh") && (l.includes("national") || l.includes("profile"))) {
            const bd = SovereignAtlas.bdProfile;
            res = `<div class="atlas-card">
                <b class="text-red-700">üáßüá© BANGLADESH NATIONAL PROFILE</b><br>
                ‚Ä¢ <b>Animal:</b> ${bd.animal}<br>‚Ä¢ <b>Bird:</b> ${bd.bird}<br>‚Ä¢ <b>Fish:</b> ${bd.fish}<br>‚Ä¢ <b>Fruit:</b> ${bd.fruit}<br>‚Ä¢ <b>Flower:</b> ${bd.flower}
            </div>`;
        }
        // 3. CONTINENT LISTS (OFFLINE)
        else if(l.includes("africa") || l.includes("asia") || l.includes("europe") || l.includes("latin") || l.includes("oceania")) {
            const key = l.includes("africa") ? "africa" : (l.includes("asia") ? "asia" : (l.includes("europe") ? "europe" : (l.includes("latin") ? "latin" : "oceania")));
            res = `üåç **${key.toUpperCase()} COUNTRIES:**\n\n${SovereignAtlas.continents[key]}`;
        }
        // 4. CURRENCY (OFFLINE)
        else if(l.includes("currency")) {
            const country = Object.keys(SovereignAtlas.currencies).find(c => l.includes(c));
            res = country ? `üí∞ **Currency of ${country.toUpperCase()}:** ${SovereignAtlas.currencies[country]}` : "Currency not found in Local Brain.";
        }
        // 5. MATH (OFFLINE)
        else if (/[0-9]/.test(l) && (/[+\-*/]/.test(l) || l.includes("sqrt") || l.includes("sin"))) {
            try { res = `üî¢ **Math Result:** ${eval(l.replace(/sqrt/g, 'Math.sqrt').replace(/sin/g, 'Math.sin'))}`; } catch { res = "Math Error."; }
        }
        // 6. ONLINE FALLBACK
        else if(document.getElementById('sync-toggle').checked && navigator.onLine) {
            try { res = (await puter.ai.chat(q)).toString(); } catch { res = "Neural Sync Error."; }
        } else {
            res = "üìµ **Offline Mode:** This specific info is not in my 213-country local database. Switch on 'Neural Sync' for deep knowledge.";
        }
        setTimeout(() => this.addMsg(res, 'ai'), 500);
    }
};
document.getElementById('query').onkeypress = (e) => { if(e.key === 'Enter') App.send(); };
</script>
</body>
</html>
