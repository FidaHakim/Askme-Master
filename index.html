<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Askme v2026.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://js.puter.com/v2/"></script>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --primary-red: #b3261e; --sidebar-bg: #f0f4f9; --input-bg: #f0f4f9; }
        body { font-family: 'Google Sans', sans-serif; background: #ffffff; color: #1f1f1f; height: 100dvh; margin: 0; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Sidebar Navigation */
        #sidebar { position: fixed; left: -300px; top: 0; bottom: 0; width: 280px; background: var(--sidebar-bg); z-index: 1000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; padding: 20px 16px; box-shadow: 10px 0 30px rgba(0,0,0,0.05); }
        #sidebar.open { left: 0; }
        .new-chat-btn { background: white; border-radius: 28px; padding: 14px 24px; display: flex; align-items: center; gap: 12px; font-weight: 500; margin-bottom: 25px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); cursor: pointer; }
        .sidebar-item { display: flex; align-items: center; gap: 14px; padding: 12px 10px; border-radius: 8px; font-size: 14px; color: #444746; cursor: pointer; }
        
        /* Header */
        header { height: 64px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; background: white; border-bottom: 1px solid #f1f1f1; z-index: 100; }
        .logo-text { color: var(--primary-red); font-weight: 700; font-size: 22px; display: flex; align-items: center; }
        .status-indicator { width: 10px; height: 10px; border-radius: 50%; margin-left: 8px; border: 2px solid white; }
        .online { background: #34a853; box-shadow: 0 0 5px #34a853; }
        .offline { background: #ea4335; }

        /* Content Area */
        #chat-window { flex: 1; overflow-y: auto; padding: 0 20px; scroll-behavior: smooth; }
        #chat-window::-webkit-scrollbar { display: none; }
        .hero-title { font-size: 32px; font-weight: 400; margin-top: 40px; color: #1f1f1f; }
        .hero-subtitle { font-size: 32px; color: #444746; margin-bottom: 30px; line-height: 1.2; }
        .action-chip { background: white; border: 1px solid #e3e3e3; border-radius: 24px; padding: 12px 20px; margin-bottom: 10px; font-size: 15px; cursor: pointer; width: fit-content; display: flex; gap: 10px; }

        /* Chat Bubbles */
        .msg-u { align-self: flex-end; background: #f0f4f9; padding: 12px 18px; border-radius: 18px; margin-bottom: 20px; max-width: 85%; margin-left: auto; border-bottom-right-radius: 4px; }
        .msg-ai { display: flex; gap: 12px; margin-bottom: 30px; }
        .ai-avatar { width: 32px; height: 32px; border-radius: 50%; background: var(--primary-red); flex-shrink: 0; }
        
        /* Bottom Control */
        .bottom-container { padding: 10px 16px 24px; background: white; }
        .input-bar { background: var(--input-bg); border-radius: 28px; padding: 12px 18px; transition: 0.3s; }
        #query { background: transparent; border: none; outline: none; font-size: 16px; width: 100%; color: #1f1f1f; }
        .tool-row { display: flex; justify-content: space-between; align-items: center; margin-top: 8px; }
        .sparkle-btn { width: 40px; height: 40px; border-radius: 50%; background: #e8f0fe; display: flex; align-items: center; justify-content: center; color: #0b57d0; cursor: pointer; }
        
        .atlas-card { background: white; border: 1px solid #e3e3e3; border-radius: 20px; padding: 18px; border-left: 6px solid var(--primary-red); margin: 10px 0; }
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.3); z-index: 900; backdrop-filter: blur(2px); }
    </style>
</head>
<body>

<div id="overlay" class="overlay" onclick="App.toggleMenu()"></div>

<aside id="sidebar">
    <div class="new-chat-btn" onclick="location.reload()"><span>Ôºã</span> New Chat</div>
    <div class="sidebar-item" onclick="App.fill('List 213 Countries')">üåç Sovereign Atlas</div>
    <div class="sidebar-item" onclick="App.fill('Bangladesh National Profile')">üáßüá© BD Local Brain</div>
    <div class="sidebar-item" onclick="App.fill('Scientific Math Engine')">üìê Sci-Math Engine</div>
    <div class="mt-auto pt-4 border-t">
        <div class="flex justify-between items-center mb-4">
            <span class="text-sm font-medium text-blue-600">Neural Sync</span>
            <input type="checkbox" id="sync-toggle" checked onchange="App.updateStatus()" class="w-10 h-5">
        </div>
        <div class="text-[10px] text-center font-bold tracking-widest text-gray-500">FIDAHAKIM SINGULARITY</div>
    </div>
</aside>

<header>
    <div onclick="App.toggleMenu()" class="cursor-pointer p-2 text-2xl">‚ò∞</div>
    <div class="logo-text">Askme<span id="status-dot" class="status-indicator online"></span></div>
    <div class="w-8 h-8 rounded-full border bg-red-700 text-white flex items-center justify-center font-bold">A</div>
</header>

<main id="chat-window">
    <div id="hero">
        <div class="hero-title">Hi Askme Sir</div>
        <div class="hero-subtitle">System Rebuilt. v2026.0 is Online.</div>
        <div class="action-chip" onclick="App.fill('Time in Dhaka')">üïí Bangladesh Time</div>
        <div class="action-chip" onclick="App.fill('National symbols of Bangladesh')">üáßüá© BD National Profile</div>
        <div class="action-chip" onclick="App.fill('sqrt(144) + sin(90)')">üî¢ Scientific Math</div>
    </div>
    <div id="messages" class="flex flex-col pt-4"></div>
</main>

<div class="bottom-container">
    <div class="input-bar">
        <input id="query" type="text" placeholder="Ask Askme anything..." autocomplete="off">
        <div class="tool-row">
            <div class="flex gap-4 text-xl text-gray-600"><span>Ôºã</span><span>üî≥</span></div>
            <div class="flex items-center gap-3">
                <div id="mode-text" class="text-xs font-bold border px-3 py-1 rounded-full bg-white">Hybrid</div>
                <div onclick="App.send()" class="sparkle-btn">‚ú®</div>
            </div>
        </div>
    </div>
</div>

<script>
// --- CORE SOVEREIGN DATABASE (OFFLINE) ---
const SovereignDB = {
    continents: {
        africa: ["Algeria", "Angola", "Benin", "Botswana", "Burkina Faso", "Burundi", "Cabo Verde", "Cameroon", "Central African Republic", "Chad", "Comoros", "Congo", "Djibouti", "Egypt", "Equatorial Guinea", "Eritrea", "Eswatini", "Ethiopia", "Gabon", "Gambia", "Ghana", "Guinea", "Kenya", "Lesotho", "Liberia", "Libya", "Madagascar", "Malawi", "Mali", "Mauritania", "Mauritius", "Morocco", "Mozambique", "Namibia", "Niger", "Nigeria", "Rwanda", "Senegal", "Seychelles", "Sierra Leone", "Somalia", "South Africa", "South Sudan", "Sudan", "Tanzania", "Togo", "Tunisia", "Uganda", "Zambia", "Zimbabwe"],
        asia: ["Afghanistan", "Armenia", "Azerbaijan", "Bahrain", "Bangladesh", "Bhutan", "Brunei", "Cambodia", "China", "Cyprus", "Georgia", "India", "Indonesia", "Iran", "Iraq", "Japan", "Jordan", "Kazakhstan", "Kuwait", "Kyrgyzstan", "Laos", "Lebanon", "Malaysia", "Maldives", "Mongolia", "Myanmar", "Nepal", "North Korea", "Oman", "Pakistan", "Palestine", "Philippines", "Qatar", "Saudi Arabia", "Singapore", "South Korea", "Sri Lanka", "Syria", "Tajikistan", "Thailand", "Timor-Leste", "Turkey", "Turkmenistan", "UAE", "Uzbekistan", "Vietnam", "Yemen"],
        europe: ["Albania", "Andorra", "Austria", "Belarus", "Belgium", "Bosnia", "Bulgaria", "Croatia", "Czechia", "Denmark", "Estonia", "Finland", "France", "Germany", "Greece", "Hungary", "Iceland", "Ireland", "Italy", "Latvia", "Liechtenstein", "Lithuania", "Luxembourg", "Malta", "Moldova", "Monaco", "Norway", "Poland", "Portugal", "Romania", "Russia", "San Marino", "Serbia", "Slovakia", "Slovenia", "Spain", "Sweden", "Switzerland", "Ukraine", "UK", "Vatican"],
        latin: ["Argentina", "Bahamas", "Barbados", "Belize", "Bolivia", "Brazil", "Chile", "Colombia", "Costa Rica", "Cuba", "Dominica", "Ecuador", "El Salvador", "Guatemala", "Guyana", "Haiti", "Honduras", "Jamaica", "Mexico", "Nicaragua", "Panama", "Paraguay", "Peru", "Suriname", "Trinidad", "Uruguay", "Venezuela"],
        oceania: ["Australia", "Fiji", "Kiribati", "New Zealand", "Palau", "Papua New Guinea", "Samoa", "Solomon Islands", "Tonga", "Tuvalu", "Vanuatu"]
    },
    bd: {
        bird: "Magpie Robin (Doyel)", fish: "Hilsa (Ilish)", animal: "Royal Bengal Tiger", fruit: "Jackfruit", flower: "Water Lily", currency: "BDT (Taka)", capital: "Dhaka"
    },
    currencies: {
        "palestine": "JOD/ILS", "saudi arabia": "SAR", "uae": "AED", "usa": "USD", "uk": "GBP", "turkey": "TRY"
    }
};

const App = {
    toggleMenu() {
        const s = document.getElementById('sidebar');
        s.classList.toggle('open');
        document.getElementById('overlay').style.display = s.classList.contains('open') ? 'block' : 'none';
    },

    updateStatus() {
        const sync = document.getElementById('sync-toggle').checked;
        document.getElementById('status-dot').className = `status-indicator ${sync ? 'online' : 'offline'}`;
        document.getElementById('mode-text').innerText = sync ? 'Hybrid' : 'Local';
    },

    fill(t) { document.getElementById('query').value = t; this.send(); },

    addMsg(text, role) {
        document.getElementById('hero')?.remove();
        const container = document.getElementById('messages');
        const div = document.createElement('div');
        div.className = role === 'u' ? 'msg-u' : 'msg-ai';
        div.innerHTML = role === 'u' ? text : `<div class="ai-avatar"></div><div class="flex-1">${marked.parse(text)}</div>`;
        container.appendChild(div);
        document.getElementById('chat-window').scrollTo(0, container.scrollHeight);
    },

    async send() {
        const input = document.getElementById('query');
        const q = input.value.trim(); if(!q) return;
        input.value = "";
        this.addMsg(q, 'u');

        const low = q.toLowerCase();
        const isOnline = document.getElementById('sync-toggle').checked;
        let res = "";

        // 1. ISRAEL FILTER
        if(low.includes("israel")) {
            res = "‚ö†Ô∏è **Access Denied:** We only recognize sovereign nations. Please search for **Palestine üáµüá∏**.";
        }
        // 2. BD NATIONAL PROFILE
        else if(low.includes("bangladesh") && (low.includes("national") || low.includes("profile"))) {
            const b = SovereignDB.bd;
            res = `<div class="atlas-card">
                <b class="text-red-700">üáßüá© BANGLADESH LOCAL BRAIN</b><br>
                ‚Ä¢ Animal: ${b.animal}<br>‚Ä¢ Bird: ${b.bird}<br>‚Ä¢ Fish: ${b.fish}<br>‚Ä¢ Fruit: ${b.fruit}<br>‚Ä¢ Flower: ${b.flower}<br>‚Ä¢ Currency: ${b.currency}
            </div>`;
        }
        // 3. CONTINENT LOGIC
        else if(["africa", "asia", "europe", "latin", "oceania"].some(c => low.includes(c))) {
            const key = ["africa", "asia", "europe", "latin", "oceania"].find(c => low.includes(c));
            res = `üåç **${key.toUpperCase()} COUNTRIES:**\n\n${SovereignDB.continents[key].join(", ")}`;
        }
        // 4. SCIENTIFIC MATH
        else if(/[0-9]/.test(low) && (/[+\-*/]/.test(low) || low.includes("sqrt") || low.includes("sin"))) {
            try { res = `üî¢ **Math Result:** ${eval(low.replace(/sqrt/g, 'Math.sqrt').replace(/sin/g, 'Math.sin'))}`; } catch { res = "Math Error."; }
        }
        // 5. HYBRID / ONLINE
        else if(isOnline && navigator.onLine) {
            try { res = (await puter.ai.chat(q)).toString(); } catch { res = "Cloud Sync Error. Using offline core."; }
        } else {
            res = "üìµ **Offline:** Data not found in 213-country Local Brain. Enable Neural Sync!";
        }

        setTimeout(() => this.addMsg(res, 'ai'), 500);
    }
};

document.getElementById('query').onkeypress = (e) => { if(e.key === 'Enter') App.send(); };
</script>
</body>
</html>
