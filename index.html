<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Askme v134.0 - Ultimate Atlas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://js.puter.com/v2/"></script>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Google Sans', sans-serif; background: #ffffff; color: #1f1f1f; height: 100dvh; margin: 0; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Sidebar (Exact Match) */
        #sidebar { position: fixed; left: -300px; top: 0; bottom: 0; width: 280px; background: #f0f4f9; z-index: 1000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; padding: 20px 16px; box-shadow: 10px 0 30px rgba(0,0,0,0.1); }
        #sidebar.open { left: 0; }
        .new-chat-btn { background: white; border-radius: 28px; padding: 14px 24px; display: flex; align-items: center; gap: 12px; font-weight: 500; margin-bottom: 25px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); cursor: pointer; }
        .sidebar-section-label { font-size: 11px; font-weight: 700; color: #70757a; letter-spacing: 0.8px; margin-bottom: 15px; margin-left: 8px; }
        .sidebar-item { display: flex; align-items: center; gap: 14px; padding: 12px 10px; border-radius: 8px; font-size: 14px; color: #444746; cursor: pointer; transition: 0.2s; }
        .sidebar-item:hover { background: #e3e8ef; }

        /* Sync Switch */
        .sidebar-footer { margin-top: auto; padding-top: 20px; border-top: 1px solid #dee2e6; }
        .sync-row { display: flex; justify-content: space-between; align-items: center; font-size: 14px; margin-bottom: 20px; font-weight: 500; color: #1a73e8; }
        .switch { position: relative; display: inline-block; width: 44px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; inset: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #1a73e8; }
        input:checked + .slider:before { transform: translateX(20px); }

        /* Header */
        header { height: 64px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; background: white; border-bottom: 1px solid #f1f1f1; }
        .logo-text { color: #b3261e; font-weight: 700; font-size: 22px; display: flex; align-items: center; cursor: pointer; }
        .status-dot { width: 8px; height: 8px; border-radius: 50%; margin-left: 8px; border: 1px solid rgba(0,0,0,0.1); }
        .dot-online { background: #34a853; box-shadow: 0 0 8px #34a853; }
        .dot-offline { background: #ea4335; }

        /* Chat Window */
        #chat-window { flex: 1; overflow-y: auto; padding: 0 20px; }
        #chat-window::-webkit-scrollbar { display: none; }
        .hero-title { font-size: 32px; font-weight: 400; margin-top: 40px; color: #1f1f1f; }
        .hero-subtitle { font-size: 32px; color: #444746; margin-bottom: 30px; line-height: 1.2; }
        
        .action-chip { background: #ffffff; border: 1px solid #e3e3e3; border-radius: 24px; padding: 12px 20px; display: flex; align-items: center; gap: 12px; width: fit-content; margin-bottom: 10px; font-size: 15px; cursor: pointer; transition: 0.2s; }

        /* Message UI */
        .msg-u { align-self: flex-end; background: #f0f4f9; padding: 12px 18px; border-radius: 18px; margin-bottom: 20px; max-width: 85%; margin-left: auto; border-bottom-right-radius: 4px; }
        .msg-ai { display: flex; gap: 12px; margin-bottom: 30px; animation: fadeIn 0.4s ease; }
        .ai-avatar { width: 30px; height: 30px; border-radius: 50%; background: #b3261e; flex-shrink: 0; }

        /* Bottom Gemini Bar */
        .bottom-container { padding: 10px 16px 24px; background: white; }
        .input-bar { background: #f0f4f9; border-radius: 28px; padding: 10px 18px; }
        #query { background: transparent; border: none; outline: none; font-size: 16px; width: 100%; color: #1f1f1f; padding: 6px 0; }
        .input-tools { display: flex; justify-content: space-between; align-items: center; margin-top: 8px; }
        .tool-left { display: flex; gap: 20px; font-size: 20px; color: #444746; cursor: pointer; }
        .tool-right { display: flex; align-items: center; gap: 14px; }
        .fast-badge { border: 1px solid #c4c7c5; padding: 3px 14px; border-radius: 20px; font-size: 13px; font-weight: 500; background: white; color: #444746; }
        .sparkle-btn { width: 38px; height: 38px; border-radius: 50%; background: #e8f0fe; display: flex; align-items: center; justify-content: center; color: #0b57d0; cursor: pointer; }
        
        .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.3); z-index: 900; backdrop-filter: blur(2px); }
        .atlas-card { background: white; border: 1px solid #e3e3e3; border-radius: 20px; padding: 18px; border-left: 6px solid #b3261e; margin: 10px 0; }
        .math-card { background: #1e1e1e; color: #00ff00; font-family: 'Courier New', monospace; padding: 15px; border-radius: 12px; margin: 10px 0; }
    </style>
</head>
<body>

<div id="overlay" class="overlay" onclick="App.toggleMenu()"></div>

<aside id="sidebar">
    <div class="new-chat-btn" onclick="location.reload()"><span>Ôºã</span> New Chat</div>
    <div class="sidebar-section-label">INFINITY CORE</div>
    <div class="sidebar-item" onclick="App.fill('List countries in Asia')">üåè Asia Atlas</div>
    <div class="sidebar-item" onclick="App.fill('National symbols of Bangladesh')">üáßüá© BD National</div>
    <div class="sidebar-item" onclick="App.fill('Scientific math')">üìê Quantum Math</div>
    <div class="sidebar-item" onclick="App.fill('Palestine Currency')">üáµüá∏ Sovereign Currency</div>

    <div class="sidebar-footer">
        <div class="sync-row">
            <span id="sync-text">Neural Sync (Online)</span>
            <label class="switch">
                <input type="checkbox" id="sync-toggle" checked onchange="App.updateStatus()">
                <span class="slider"></span>
            </label>
        </div>
        <div style="font-size: 10px; color: #70757a; letter-spacing: 2px; text-align: center; font-weight: bold;">FIDAHAKIM SINGULARITY</div>
    </div>
</aside>

<header>
    <div onclick="App.toggleMenu()" class="p-2 cursor-pointer text-2xl">‚ò∞</div>
    <div class="logo-text">Askme<span id="online-dot" class="status-dot dot-online"></span></div>
    <div class="w-8 h-8 rounded-full overflow-hidden border">
        <img src="https://ui-avatars.com/api/?name=Askme&background=b3261e&color=fff">
    </div>
</header>

<main id="chat-window">
    <div id="hero">
        <div class="hero-title">Hi Askme Sir</div>
        <div class="hero-subtitle">The Sovereign Brain is Ready.</div>
        <div class="action-chip" onclick="App.fill('BD National Profile')">üáßüá© BD National Details</div>
        <div class="action-chip" onclick="App.fill('List 54 African countries')">üåç Africa Data</div>
        <div class="action-chip" onclick="App.fill('Calculate sqrt(256) * sin(90)')">üî¢ Sci-Math</div>
    </div>
    <div id="messages" class="flex flex-col pt-6"></div>
</main>

<div class="bottom-container">
    <div class="input-bar">
        <input id="query" type="text" placeholder="Ask anything..." autocomplete="off">
        <div class="input-tools">
            <div class="tool-left"><span>Ôºã</span><span>üî≥</span></div>
            <div class="tool-right">
                <div id="mode-badge" class="fast-badge">Hybrid</div>
                <div onclick="App.send()" class="sparkle-btn">‚ú®</div>
            </div>
        </div>
    </div>
</div>

<script>
const SovereignBrain = {
    // 213+ Countries Logic Core
    continents: {
        africa: "Algeria, Angola, Benin, Botswana, Burkina Faso, Burundi, Cabo Verde, Cameroon, Central African Republic, Chad, Comoros, Congo, C√¥te d'Ivoire, Djibouti, DR Congo, Egypt, Equatorial Guinea, Eritrea, Eswatini, Ethiopia, Gabon, Gambia, Ghana, Guinea, Guinea-Bissau, Kenya, Lesotho, Liberia, Libya, Madagascar, Malawi, Mali, Mauritania, Mauritius, Morocco, Mozambique, Namibia, Niger, Nigeria, Rwanda, Sao Tome and Principe, Senegal, Seychelles, Sierra Leone, Somalia, South Africa, South Sudan, Sudan, Tanzania, Togo, Tunisia, Uganda, Zambia, Zimbabwe.",
        asia: "Afghanistan, Armenia, Azerbaijan, Bahrain, Bangladesh, Bhutan, Brunei, Cambodia, China, Cyprus, Georgia, India, Indonesia, Iran, Iraq, Japan, Jordan, Kazakhstan, Kuwait, Kyrgyzstan, Laos, Lebanon, Malaysia, Maldives, Mongolia, Myanmar, Nepal, North Korea, Oman, Pakistan, Palestine, Philippines, Qatar, Saudi Arabia, Singapore, South Korea, Sri Lanka, Syria, Tajikistan, Thailand, Timor-Leste, Turkey, Turkmenistan, United Arab Emirates, Uzbekistan, Vietnam, Yemen.",
        europe: "Albania, Andorra, Austria, Belarus, Belgium, Bosnia and Herzegovina, Bulgaria, Croatia, Czechia, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Iceland, Ireland, Italy, Latvia, Liechtenstein, Lithuania, Luxembourg, Malta, Moldova, Monaco, Montenegro, Netherlands, North Macedonia, Norway, Poland, Portugal, Romania, Russia, San Marino, Serbia, Slovakia, Slovenia, Spain, Sweden, Switzerland, Ukraine, United Kingdom, Vatican City.",
        latin: "Antigua and Barbuda, Argentina, Bahamas, Barbados, Belize, Bolivia, Brazil, Chile, Colombia, Costa Rica, Cuba, Dominica, Dominican Republic, Ecuador, El Salvador, Grenada, Guatemala, Guyana, Haiti, Honduras, Jamaica, Mexico, Nicaragua, Panama, Paraguay, Peru, Saint Kitts and Nevis, Saint Lucia, Saint Vincent and the Grenadines, Suriname, Trinidad and Tobago, Uruguay, Venezuela.",
        oceania: "Australia, Fiji, Kiribati, Marshall Islands, Micronesia, Nauru, New Zealand, Palau, Papua New Guinea, Samoa, Solomon Islands, Tonga, Tuvalu, Vanuatu.",
        na: "Canada, United States."
    },
    
    // Currency & BD Data
    details: {
        "bangladesh": { cap: "Dhaka", cur: "BDT (Taka)", info: "Joy Bangla!", bird: "Magpie Robin", fish: "Hilsa", animal: "Royal Bengal Tiger", fruit: "Jackfruit", flower: "Water Lily" },
        "palestine": { cap: "East Jerusalem", cur: "JOD/ILS", info: "Free Palestine! üáµüá∏" },
        "usa": { cap: "Washington D.C.", cur: "USD (Dollar)" },
        "uk": { cap: "London", cur: "GBP (Pound)" },
        "saudi arabia": { cap: "Riyadh", cur: "SAR (Riyal)" }
    },

    solve(q) {
        try {
            const math = q.toLowerCase().replace(/sin/g, 'Math.sin').replace(/cos/g, 'Math.cos').replace(/tan/g, 'Math.tan').replace(/sqrt/g, 'Math.sqrt').replace(/pi/g, 'Math.PI');
            return eval(math);
        } catch { return null; }
    }
};

const App = {
    toggleMenu() {
        document.getElementById('sidebar').classList.toggle('open');
        document.getElementById('overlay').style.display = document.getElementById('sidebar').classList.contains('open') ? 'block' : 'none';
    },

    updateStatus() {
        const online = document.getElementById('sync-toggle').checked;
        document.getElementById('online-dot').className = `status-dot ${online ? 'dot-online' : 'dot-offline'}`;
        document.getElementById('mode-badge').innerText = online ? "Hybrid" : "Local";
    },

    fill(t) { document.getElementById('query').value = t; this.send(); },

    addMsg(content, role) {
        document.getElementById('hero')?.remove();
        const m = document.getElementById('messages');
        const d = document.createElement('div');
        d.className = role === 'u' ? 'msg-u' : 'msg-ai';
        d.innerHTML = role === 'u' ? content : `<div class="ai-avatar"></div><div class="flex-1">${marked.parse(content)}</div>`;
        m.appendChild(d);
        document.getElementById('chat-window').scrollTo(0, m.scrollHeight);
    },

    async send() {
        const inp = document.getElementById('query');
        const q = inp.value.trim(); if(!q) return;
        inp.value = "";
        this.addMsg(q, 'u');

        const l = q.toLowerCase();
        let res = "";

        // 1. ISRAEL FILTER
        if(l.includes("israel")) {
            res = "‚ö†Ô∏è **Database Alert:** Entity not recognized. We support **Palestine üáµüá∏**.";
        }
        // 2. BD NATIONAL PROFILE
        else if(l.includes("bangladesh") && (l.includes("national") || l.includes("profile"))) {
            const bd = SovereignBrain.details.bangladesh;
            res = `<div class="atlas-card">
                <div class="font-bold text-red-700">üáßüá© BANGLADESH NATIONAL PROFILE</div>
                <div class="mt-2 text-sm">
                ‚Ä¢ <b>Bird:</b> ${bd.bird} <br>
                ‚Ä¢ <b>Fish:</b> ${bd.fish} <br>
                ‚Ä¢ <b>Animal:</b> ${bd.animal} <br>
                ‚Ä¢ <b>Fruit:</b> ${bd.fruit} <br>
                ‚Ä¢ <b>Flower:</b> ${bd.flower} <br>
                ‚Ä¢ <b>Currency:</b> ${bd.cur}
                </div>
            </div>`;
        }
        // 3. CONTINENT LISTS
        else if(l.includes("africa") || l.includes("asia") || l.includes("europe")) {
            const cont = l.includes("africa") ? "africa" : (l.includes("asia") ? "asia" : "europe");
            res = `üåç **${cont.toUpperCase()} Countries:** \n\n ${SovereignBrain.continents[cont]}`;
        }
        // 4. SCI-MATH
        else if (/[0-9]/.test(l) && (/[+\-*/]/.test(l) || l.includes("sin") || l.includes("sqrt"))) {
            const sol = SovereignBrain.solve(l);
            res = sol ? `<div class="math-card">RES > ${sol}</div>` : "Math Syntax Error.";
        }
        // 5. HYBRID AI
        else if(document.getElementById('sync-toggle').checked && navigator.onLine) {
            try { res = (await puter.ai.chat(q)).toString(); } catch { res = "Cloud Sync Error."; }
        }
        else {
            res = "üìµ **Offline:** Data not in local brain. Enable Neural Sync!";
        }

        setTimeout(() => this.addMsg(res, 'ai'), 600);
    }
};

document.getElementById('query').onkeypress = (e) => { if(e.key === 'Enter') App.send(); };
</script>
</body>
</html>
